{% extends 'whats_on_dot_com/base.html' %}




{% load staticfiles %}
<link rel="stylesheet" type="text/css" href="{% static "css/addEvent.css" %}"/>

	{% block title_block %}
		Add Event
	{% endblock %}

	{% block nav_block %}
		<li><a href="{% url 'events' %}" >Events</a></li>
		<li><a href="{% url 'profiles' %}">Profiles</a></li>
		<li id="active"><a href="{% url 'add_event'%}">Add Event</a></li>
	{% endblock %}

	{% block body_block%}
		<div class="jumbotron">

			<h1>Add an Event</h1>
			<hr />
			
			<div>
			{% if form.errors %}
				<h6>There were some errors in the information you entered. Please correct the following:</h6>
					{{ form.non_field_errors }}
				
					{% for field in form %}
						{% if field.errors %}<h6>{{ field.errors|striptags }}</h6>{% endif %}
					{% endfor %}
					<br>
					
			{% endif %}
			</div>

			<div class="form-group">
				<form action="" method="post" id="event_form" enctype="multipart/form-data">
					{% csrf_token %}
					
					<label for="id_name">Event name</label>
					<input class="form-control" id="id_name" type="text" name="name" maxlength="100" required /></p>
					
					<label for="id_description">Description</label>
					<textarea class="form-control" id="id_description"  name="description" rows="5" required></textarea></p>
					
					<label for="id_date_time">date and time in YYYY-MM-DD HH:MM format</label>
					<input class="form-control" id="id_date_time" type="text" name="date_time" maxlength="100" required /></p>
					
					<label for="id_address">Address</label>
					<textarea class="form-control" id="id_address" name="address" rows="2" required></textarea></p>
					
					<label for="id_location_info">Extra address info</label>
					<input class="form-control" id="id_location_info" type="text" name="location_info" maxlength="100" required /></p>
					
					
					<label for="id_category">Category</label>
					<select class="form-control" id="id_category" name="category">
						{% for c in event_form.category.field.queryset.all %}
							<option value="{{c.pk}}">{{c}}</option>
						{% endfor %}
					</select>
					
					<label for="id_tags">Tags</label>
					<ul id="id_tags">
						{% for t in event_form.tags.field.queryset.all %}
						<li>
							<label for="id_tags_{{t.pk}}">
								<input name="tags" id="id_tags_{{t.pk}}" type="checkbox" value="{{t.pk}}" class="form-check-input"/>
								{{t.name}}
							</label>
						</li>
						{% endfor %}
					</ul>
					
					<label for="id_event_picture">Event picture</label>
					<input class="form-control-file" type="file" name="event_picture" id="id_event_picture" />


					</br>
					<input type="submit" class="btn btn-primary" name="submit" value="Add Event" />
				</form>
			</div>
		</div>
	{% endblock %}